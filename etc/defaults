#! /bin/bash


# tools -----------------------------------------------------------------------

ccache_binary=/usr/bin/ccache
cmake3_binary=/usr/bin/cmake3
git_binary=/opt/rh/rh-git29/root/bin/git
git_binary=/usr/bin/git
ninja_build_binary=/usr/bin/ninja-build


# gcc -------------------------------------------------------------------------

gcc_prefix=/opt
gcc_version=9.2.0
gcc_root=${gcc_prefix}/gcc-${gcc_version}
gnu_cc=${gcc_root}/bin/gcc
gnu_cxx=${gcc_root}/bin/g++

target_triple=$( ${gnu_cc} -dumpmachine )


# git -------------------------------------------------------------------------

github_path=llvm/llvm-project
github_url=https://github.com/${github_path}.git

git_dir=${_ROOT}/git/${github_path}
git_worktree_root=${_ROOT}/src/${github_path}


# ccache ----------------------------------------------------------------------

export CCACHE_DIR=${_ROOT}/var/ccache
[[ ! -d ${CCACHE_DIR} ]] && mkdir -p ${CCACHE_DIR}

cat >${CCACHE_DIR}/ccache.conf<<-__CCACHE_CONF_EOF__
#
# ${CCACHE_DIR}/ccache.conf
# generated by ${BASH_SOURCE[0]} at $(date '+%Y-%m-%d.%H%M%S')
#
base_dir = ${_ROOT}
max_size = 64G
compiler_check = content
__CCACHE_CONF_EOF__


# log -------------------------------------------------------------------------

[[ ! -d ${_ROOT}/log ]] && mkdir ${_ROOT}/log
_STDOUTERR_LOG=${_ROOT}/log/$( date '+%Y-%m-%d.%H%M%S' ).${_BASENAME}.${USER}.log
exec &> >( tee -a ${_STDOUTERR_LOG} )


# llvm ------------------------------------------------------------------------

llvm_version=master
llvm_version=9.x

