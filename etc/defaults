#! /bin/bash


# tools -----------------------------------------------------------------------

cmake3_binary=/usr/bin/cmake3
ninja_build_binary=/usr/bin/ninja-build

gcc_prefix=/opt
gcc_version=9.2.0
gcc_root=${gcc_prefix}/gcc-${gcc_version}
gnu_cc=${gcc_root}/bin/gcc
gnu_cxx=${gcc_root}/bin/g++

gcc_dumpmachine=$( ${gnu_cc} -dumpmachine )

github_path=llvm/llvm-project
github_url=https://github.com/${github_path}.git

git_prefix=${_ROOT}/git
git_dir=${git_prefix}/${github_path}

llvm_version=9.0.1
llvm_branch=9.x

sequence_name=bootstrap


# ccache ----------------------------------------------------------------------

export CCACHE_DIR=${_ROOT}/var/ccache
[[ ! -d ${CCACHE_DIR} ]] && mkdir -p ${CCACHE_DIR}

cat >${CCACHE_DIR}/ccache.conf<<-__CCACHE_CONF_EOF__
#
# ${CCACHE_DIR}/ccache.conf
# auto-generated by ${BASH_SOURCE[0]} at $(date '+%Y-%m-%d.%H%M%S')
#
base_dir = ${_ROOT}
max_size = 64G
compiler_check = content
__CCACHE_CONF_EOF__

ccache_binary=/usr/bin/ccache


# log -------------------------------------------------------------------------

[[ ! -d ${_ROOT}/log ]] && mkdir ${_ROOT}/log
_STDOUTERR_LOG=${_ROOT}/log/$( date '+%Y-%m-%d.%H%M%S' ).${_BASENAME}.${USER}.log
exec &> >( tee -a ${_STDOUTERR_LOG} )

